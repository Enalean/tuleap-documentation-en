Tuleap 14.x
###########

Tuleap 14.5
===========

.. NOTE::

  Tuleap 14.5 is currently under development.

End of support of PHP 8.0
-------------------------

Tuleap now comes with PHP 8.1.

PHP FPM configuration will be deployed automatically by ``tuleap-cfg site-deploy``.

If you have made some tweaks to the configuration file
``/etc/opt/remi/php80/php-fpm.d/tuleap.conf`` you will also needs
to adapt them for the new configuration at ``/etc/opt/remi/php81/php-fpm.d/tuleap.conf``.

MySQL 8.0 support and upgrade
-----------------------------

Tuleap supports MySQL 8.0 since the 14.3 release.
You must plan and upgrade to it before the end of life of MySQL 5.7 in October 2023.

You can report to :ref:`the upgrade guide for more information <mysql80_upgrade>`.


Tuleap 14.4
===========

Removal of the legacy ForgeUpgrade compatibility layer
------------------------------------------------------

:ref:`Update script/procedures <update>` must no longer use ``/usr/lib/forgeupgrade/bin/forgeupgrade``,
the compatibility layer has been removed. ``tuleap-cfg site-deploy`` must be used instead.

Tuleap 14.3
===========

Upgrade of the local Meilisearch instance from 0.29.0 to 0.30.0
---------------------------------------------------------------

This is only a concern for you if you have deployed a :ref:`local Meilisearch instance <fts-local-meilisearch>`.

This upgrade requires to "update" the Meilisearch database to the new version.

In order to do that, drop all the existing data and then ask Tuleap to re-index everything after you have upgraded the packages:

.. sourcecode:: shell

    rm -rf /var/lib/tuleap/fts_meilisearch_server/data.ms/
    tuleap full-text-search:identify-all-items-to-index
    tuleap full-text-search:index-all-pending-items

Tuleap 14.2
===========

With the removal of the "good old" ``tuleap.pm`` that was used to control the access to subversion repositories, 
you should force the re-generation of the apache configuration before the start of the stack.

You can play the following snippet before running the :ref:`regular upgrade <update>`

.. sourcecode:: shell

    rm -f /etc/httpd/conf.d/tuleap-svnroot.conf /etc/httpd/conf.d/svnroot.conf /etc/httpd/conf.d/codendi_svnroot.conf
    tuleap queue-system-check
    tuleap process-system-events default

Some of the files that are listed in the ``rm`` command might not exist on your platform, that's normal.

Tuleap 14.1
===========

There is one new plugin available for install:

- :ref:`tuleap-plugin-fts-meilisearch <full-text-search-admin>`

Tuleap 14.0
===========

There are two new plugins available for install:

- :ref:`tuleap-plugin-fts-db <full-text-search-admin>`
- :ref:`tuleap-plugin-onlyoffice <onlyoffice-integration>`
