Configuration Variables
=======================

Historically, default values are defined in ``/usr/share/tuleap/src/etc/local.inc.dist`` and can be re-defined in ``/etc/tuleap/conf/local.inc``.

The following table, presents the list of variables with their default values.

Please note that the modern version of managing configuration variables is done with ``tuleap config-[set,get]``, you can get the list of variables with their default values with ``tuleap config-list``.

+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Variable name                               | Default                                     | Description                                                                                                                                                                                                                                                  |
+=============================================+=============================================+==============================================================================================================================================================================================================================================================+
| $sys_default_domain                         | ``%sys_default_domain%``                    | This is used where ever the "naked" form of the Tuleap domain might be used. This is also used as the default name for the Web server using the standard https protocols. You can also define a specific port number (useful for test servers - default 443) |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_cookie_prefix                          | ``TULEAP``                                  | This is used for cookie authentication. If you have distributed servers. Please use same cookie prefix for a "cluster".                                                                                                                                      |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_auth_type                              | ``codendi``                                 | Should be either ldap or codendi                                                                                                                                                                                                                             |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_email_admin                            | ``codendi-admin@%sys_default_domain%``      | Email address pointing to the Tuleap site administrators for use Web pages, documentation, etc.                                                                                                                                                              |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_email_contact                          | ``codendi-contact@%sys_default_domain%``    | Email address pointing to the Tuleap contacts for use Web pages, documentation, etc.                                                                                                                                                                         |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sys_noreply                                 | ``"Tuleap" <noreply@%sys_default_domain%>`` | Address from which emails are sent                                                                                                                                                                                                                           |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_supported_languages                    | ``en_US, fr_FR, pt_BR, ko_KR``              | Supported languages (separated comma). Only en_US, fr_FR and pt_BR are available for now. Exemple: ``en_US, fr_FR``.                                                                                                                                         |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_lang                                   | ``en_US``                                   | Default language for the system.                                                                                                                                                                                                                             |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_user_can_choose_project_privacy        | ``1``                                       | If set to 0 (zero) then the project privacy radio buttons are hidden during the project registration.                                                                                                                                                        |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_frs_license_mandatory                  | ``0``                                       | Is license approval mandatory when downloading a file from the FRS ? (1 is mandatory 0 is optional)                                                                                                                                                          |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_exchange_policy_url                    | ``''``                                      | If sys_frs_license_mandatory is 1, then you must give the Exchange policy URL. Which will be used to generate links on the download confirmation popup.                                                                                                      |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_session_lifetime                       | ``1209600``                                 | Maximum duration of a session (in seconds). Default value is about 2 weeks: 3600*24*14=1209600                                                                                                                                                               |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $last_access_resolution                     | ``3600``                                    | Delay (in seconds) between 2 updates of "last access" date for a user.Default is 1 hour, it's good enough if you want to know the day a user was seen. A number to low will degrade performances.                                                            |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_pending_account_lifetime               | ``60``                                      | Duration before deleting pending accounts which have not been activated (in days). Default value is 60 days.                                                                                                                                                 |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_password_lifetime                      | ``0``                                       | Default password duration. User will be asked to change its password after 'sys_password_lifetime' days. 0 = no duration.                                                                                                                                    |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_suspend_inactive_accounts_delay        | ``0``                                       | Suspend user account after a given period of inactivity (in days) 0 = no inactivity checking.                                                                                                                                                                |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_suspend_non_project_member_delay       | ``0``                                       | Suspend user account if he has been no more member of any project (in days). 0 = never desactivate "not project members" account.                                                                                                                            |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_file_deletion_delay                    | ``3``                                       | Delay between the date when a doc is deleted by a user and the date the corresponding file is erased on the filesystem. Useful for backup and to restore files that where deleted by mistake. Default value is 3 days.                                       |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_max_size_upload                        | ``67108864``                                | Max upload size for quick release documentation. Expressed in bytes, for example 67108864 = 64 MiB.                                                                                                                                                          |
|                                             |                                             | Make sure that PHP settings (``post_max_size`` and ``upload_max_filesize`` in ``/etc/opt/remi/phpXX/php-fpm.d/tuleap.conf`` where XX corresponds to PHP version, for example "82")                                                                           |
|                                             |                                             | and nginx configuration file (``client_max_body_size`` in ``/etc/nginx/conf.d/tuleap.conf``) are also set to allow this size.                                                                                                                                |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_use_trove                              | ``1``                                       | Enable trove categorization (project tree/software map). 1 to enable 0 to disable.                                                                                                                                                                           |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_use_project_registration               | ``1``                                       | Enable new project registration (1 to enable 0 to disable).                                                                                                                                                                                                  |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_display_project_privacy_in_service_bar | ``1``                                       |                                                                                                                                                                                                                                                              |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_max_number_of_emailed_people           | ``100``                                     | Hard limit to number of emailed people when the news admin choose to send a news. Set to 0 to force commit message to not be empty.                                                                                                                          |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_allow_empty_svn_commit_message         | ``1``                                       | Allow (or not) users to do a SVN commit without any commit message. Set to 0 to force commit message to not be empty.                                                                                                                                        |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_logger_level                           | ``warning``                                 | Set the reporting level for logging. Possible levels: debug, info, warning and error. Note: as of today, not all loggers respects this value.                                                                                                                |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_default_mail_domain                    | ``''``                                      | Define the email domain for email gateway feature. By default, mail domain = default Tuleap domain (see $sys_default_domain)                                                                                                                                 |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_project_backup_path                    | ``$tmp_dir``                                | Backup path for deleted projects.                                                                                                                                                                                                                            |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|| $sys_csp_script_scr_whitelist              || ``''``                                     || Whitelist URLs for the Content-Security-Policy directive script-src.                                                                                                                                                                                        |
||                                            ||                                            || This could be needed if JavaScript code needs to be executed from an external website.                                                                                                                                                                      |
||                                            ||                                            || For example, this could be ``https://example.com`` ``http://tuleap.net`` or ``https://example.com/script.js``.                                                                                                                                              |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|| $sys_trusted_proxies                       || ``''``                                     || Comma separated list of IP addresses that are trusted reverse proxy. When you setup a reverse proxy in front of Tuleap (for SSL termination or load balancer for instance) you should set there the IP address of the proxy.                                |
||                                            ||                                            || SECURITY WARNING                                                                                                                                                                                                                                            |
||                                            ||                                            || When enabled, Tuleap will trust following HTTP headers :                                                                                                                                                                                                    |
||                                            ||                                            || - X_FORWARDED_FOR                                                                                                                                                                                                                                           |
||                                            ||                                            || - X_FORWARDED_PROTO                                                                                                                                                                                                                                         |
||                                            ||                                            || - REMOTE_ADDR                                                                                                                                                                                                                                               |
||                                            ||                                            || You have to ensure those headers are properly set by your reverse proxy. Otherwise it might be an injection point for an attacker.                                                                                                                          |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| $sys_mail_secure_mode                       | ``0``                                       | When 0 mail sent to everybody can lead to information leak, non projects members can receive mails of private projects                                                                                                                                       |
+---------------------------------------------+---------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+